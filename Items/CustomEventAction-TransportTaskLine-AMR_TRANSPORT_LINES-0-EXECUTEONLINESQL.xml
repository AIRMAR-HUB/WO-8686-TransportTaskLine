<?xml version="1.0"?>
<CUSTOM_OBJECT>
  <NAME>0^AMR_TRANSPORT_LINES^TransportTaskLine</NAME>
  <TYPE>CUSTOM_EVENT_ACTION</TYPE>
  <DESCRIPTION>Create a timestamp for either a record created or executed.</DESCRIPTION>
  <CUSTOM_EVENT_ACTION EXPORT_DEF_VERSION="1">
    <EVENT_LU_NAME>TransportTaskLine</EVENT_LU_NAME>
    <EVENT_ID>AMR_TRANSPORT_LINES</EVENT_ID>
    <ACTION_NUMBER>0</ACTION_NUMBER>
    <ACTION_ENABLE>TRUE</ACTION_ENABLE>
    <ACTION_PARAMETERS>!FNDSER.EVENT_ACTION_PARAM
$SQL=DECLARE
-
-  ROWKEY_         number := 0;
-  CREATED_        number := 0;
-  EXECUTED_      number := 0;
-
-BEGIN
-
-  SELECT  COUNT(ROWKEY), 
-                COUNT(CF$_TIME_CREATED), 
-                COUNT(CF$_TIME_EXECUTED)    INTO     ROWKEY_ ,  CREATED_ ,  EXECUTED_
-          FROM transport_task_line_cft 
-            WHERE  ROWKEY =  &apos;&amp;NEW:ROWKEY&apos;;
-
-
-IF &apos;&amp;NEW:TRANSPORT_TASK_STATUS&apos; = &apos;CREATED&apos;  AND  CREATED_  =  0 THEN
-  IF  ROWKEY_     =  0 THEN
-      INSERT INTO  transport_task_line_cft       VALUES( &apos;&amp;NEW:ROWKEY&apos;, sysdate, null);
- ELSE
-       UPDATE  transport_task_line_cft              SET  CF$_TIME_CREATED = sysdate WHERE  ROWKEY = &apos;&amp;NEW:ROWKEY&apos;;
- END IF;
-END IF;
-
-
-IF &apos;&amp;NEW:TRANSPORT_TASK_STATUS&apos; = &apos;EXECUTED&apos; AND  EXECUTED_  = 0   THEN
-  IF  ROWKEY_     =  0 THEN
-      INSERT INTO  transport_task_line_cft       VALUES( &apos;&amp;NEW:ROWKEY&apos; , null, sysdate);
- ELSE
-       UPDATE  transport_task_line_cft              SET  CF$_TIME_EXECUTED = sysdate WHERE  ROWKEY = &apos;&amp;NEW:ROWKEY&apos;;
- END IF;
-END IF;
-
-/*
-EXCEPTION
- WHEN OTHERS THEN
-   ROLLBACK;
-   DBMS_OUTPUT.PUT_LINE(&apos;ERROR (EVENT): &apos;||&apos;ORA&apos;);
-*/
-END;
</ACTION_PARAMETERS>
    <FND_EVENT_ACTION_TYPE_DB>EXECUTEONLINESQL</FND_EVENT_ACTION_TYPE_DB>
    <CONDITION_TYPE>!EVENT_ACTION_COND_TYPE
$NEW:ROWKEY=
$NEW:TRANSPORT_TASK_STATUS=</CONDITION_TYPE>
    <CONDITION_VALUE>!EVENT_ACTION_COND_VALUE
$NEW:ROWKEY=
$NEW:TRANSPORT_TASK_STATUS=</CONDITION_VALUE>
    <DESCRIPTION>Create a timestamp for either a record created or executed.</DESCRIPTION>
    <SUBSCRIBABLE>FALSE</SUBSCRIBABLE>
    <ROLE/>
    <DEFINITION_MODIFIED_DATE>2019-12-13-08.30.28</DEFINITION_MODIFIED_DATE>
    <OBJKEY>DC440782F18A4202993243C71C24B21D</OBJKEY>
  </CUSTOM_EVENT_ACTION>
</CUSTOM_OBJECT>
